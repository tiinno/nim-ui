/**
 * Custom styles for Nim UI documentation
 *
 * This file imports Nim UI component styles and adds
 * custom documentation-specific styles.
 */

/* Tailwind CSS v4 */
@import 'tailwindcss';

/* Import Nim UI component styles */
@import '@nim-ui/components/styles';

/* Scan Nim UI component source for Tailwind classes (Radix Portal renders outside docs tree) */
@source "../../../ui/src/components/*.tsx";

/* Define primary colors for Tailwind v4 (OKLCH) */
@theme {
  --color-primary-50: oklch(0.976 0.014 236.6);
  --color-primary-100: oklch(0.950 0.026 236.8);
  --color-primary-200: oklch(0.901 0.058 230.9);
  --color-primary-300: oklch(0.828 0.111 230.3);
  --color-primary-400: oklch(0.746 0.160 232.7);
  --color-primary-500: oklch(0.685 0.169 237.3);
  --color-primary-600: oklch(0.588 0.158 241.0);
  --color-primary-700: oklch(0.500 0.134 242.7);
  --color-primary-800: oklch(0.433 0.109 240.1);
  --color-primary-900: oklch(0.380 0.090 237.6);
  --color-primary-950: oklch(0.293 0.066 237.9);
}

/* Custom documentation styles */
@layer base {
  :root {
    /* Custom color overrides for Starlight (OKLCH) */
    --sl-color-accent-low: oklch(0.950 0.026 236.8);
    --sl-color-accent: oklch(0.685 0.169 237.3);
    --sl-color-accent-high: oklch(0.500 0.134 242.7);
    --sl-color-white: oklch(1.000 0.000 0);
    --sl-color-gray-1: oklch(0.985 0.002 247.8);
    --sl-color-gray-2: oklch(0.967 0.003 264.5);
    --sl-color-gray-3: oklch(0.928 0.006 264.5);
    --sl-color-gray-4: oklch(0.872 0.009 258.3);
    --sl-color-gray-5: oklch(0.551 0.023 264.4);
    --sl-color-gray-6: oklch(0.373 0.031 259.7);
    --sl-color-black: oklch(0.210 0.032 264.7);
  }

  :root[data-theme='dark'] {
    --sl-color-accent-low: oklch(0.380 0.090 237.6);
    --sl-color-accent: oklch(0.746 0.160 232.7);
    --sl-color-accent-high: oklch(0.828 0.111 230.3);
    --sl-color-white: oklch(0.210 0.032 264.7);
    --sl-color-gray-1: oklch(0.278 0.030 256.8);
    --sl-color-gray-2: oklch(0.373 0.031 259.7);
    --sl-color-gray-3: oklch(0.446 0.026 256.8);
    --sl-color-gray-4: oklch(0.551 0.023 264.4);
    --sl-color-gray-5: oklch(0.714 0.019 261.3);
    --sl-color-gray-6: oklch(0.928 0.006 264.5);
    --sl-color-black: oklch(0.985 0.002 247.8);
  }
}

@layer components {
  /* Component preview container */
  .component-preview {
    @apply rounded-lg border border-neutral-200 dark:border-neutral-800 overflow-hidden my-6;
  }

  .component-preview-content {
    @apply p-8 bg-white dark:bg-neutral-950;
  }

  .component-preview-code {
    @apply bg-neutral-900 dark:bg-black;
  }

  /* Props table styles */
  .props-table {
    @apply min-w-full divide-y divide-neutral-200 dark:divide-neutral-800;
  }

  .props-table th {
    @apply px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider bg-neutral-50 dark:bg-neutral-900;
  }

  .props-table td {
    @apply px-6 py-4 text-sm;
  }

  .props-table tbody tr {
    @apply hover:bg-neutral-50 dark:hover:bg-neutral-900;
  }

  /* Code blocks */
  .expressive-code {
    @apply my-6 rounded-lg;
  }

  /* Links */
  .sl-markdown-content a {
    @apply text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 no-underline hover:underline;
  }

  /* Callouts */
  .starlight-aside {
    @apply rounded-lg border-l-4 p-4 my-4;
  }

  .starlight-aside--note {
    @apply border-blue-500 bg-blue-50 dark:bg-blue-950;
  }

  .starlight-aside--tip {
    @apply border-green-500 bg-green-50 dark:bg-green-950;
  }

  .starlight-aside--caution {
    @apply border-yellow-500 bg-yellow-50 dark:bg-yellow-950;
  }

  .starlight-aside--danger {
    @apply border-red-500 bg-red-50 dark:bg-red-950;
  }
}

@layer utilities {
  /* Utility for not-content (prevent Starlight content styles) */
  .not-content {
    all: revert;
  }

  /* Smooth transitions */
  .transition-theme {
    @apply transition-colors duration-200;
  }

  /* Focus visible styles */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2;
  }
}

/* Pagefind search UI customization (OKLCH) */
[data-pagefind-ui] {
  --pagefind-ui-primary: oklch(0.685 0.169 237.3);
  --pagefind-ui-text: oklch(0.214 0.000 0);
  --pagefind-ui-background: oklch(1.000 0.000 0);
  --pagefind-ui-border: oklch(0.922 0.000 0);
  --pagefind-ui-border-width: 1px;
}

:root[data-theme='dark'] [data-pagefind-ui] {
  --pagefind-ui-primary: oklch(0.746 0.160 232.7);
  --pagefind-ui-text: oklch(0.970 0.000 0);
  --pagefind-ui-background: oklch(0.214 0.000 0);
  --pagefind-ui-border: oklch(0.278 0.000 0);
}

/* Scrollbar customization */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  @apply bg-neutral-100 dark:bg-neutral-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-neutral-300 dark:bg-neutral-700 rounded-lg hover:bg-neutral-400 dark:hover:bg-neutral-600;
}

/* Toast docs — no CSS overrides needed, DocsToaster uses 100% inline styles */

/* Popover/Tooltip arrow — ensure Radix arrow SVG is visible in Starlight */
[data-radix-popper-content-wrapper] svg.fill-white,
[data-radix-popper-content-wrapper] svg[class*="fill-"] {
  fill: white !important;
}

:root[data-theme='dark'] [data-radix-popper-content-wrapper] svg.fill-white,
:root[data-theme='dark'] [data-radix-popper-content-wrapper] svg[class*="fill-"] {
  fill: #262626 !important;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  .component-preview-code {
    display: none !important;
  }
}

/* High contrast mode support (OKLCH) */
@media (prefers-contrast: high) {
  :root {
    --sl-color-accent: oklch(0.500 0.134 242.7);
  }

  :root[data-theme='dark'] {
    --sl-color-accent: oklch(0.828 0.111 230.3);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
