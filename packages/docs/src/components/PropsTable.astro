---
/**
 * PropsTable - Document component props in a clean table format
 *
 * @example
 * <PropsTable
 *   props={[
 *     {
 *       name: 'variant',
 *       type: "'primary' | 'secondary' | 'outline'",
 *       default: "'primary'",
 *       description: 'Visual style variant'
 *     }
 *   ]}
 * />
 */

export interface PropDefinition {
  name: string;
  type: string;
  default?: string;
  required?: boolean;
  description: string;
}

interface Props {
  props: PropDefinition[];
}

const { props } = Astro.props;
---

<div class="not-content my-6 overflow-x-auto">
  <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-800">
    <thead class="bg-gray-50 dark:bg-gray-900">
      <tr>
        <th
          scope="col"
          class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"
        >
          Name
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"
        >
          Type
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"
        >
          Default
        </th>
        <th
          scope="col"
          class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"
        >
          Description
        </th>
      </tr>
    </thead>
    <tbody class="bg-white dark:bg-gray-950 divide-y divide-gray-200 dark:divide-gray-800">
      {
        props.map((prop) => (
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-900">
            <td class="px-6 py-4 whitespace-nowrap">
              <code class="text-sm font-mono text-pink-600 dark:text-pink-400">
                {prop.name}
                {prop.required && (
                  <span class="text-red-500 ml-1">*</span>
                )}
              </code>
            </td>
            <td class="px-6 py-4">
              <code class="text-sm font-mono text-blue-600 dark:text-blue-400 whitespace-pre-wrap">
                {prop.type}
              </code>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
              {prop.default ? (
                <code class="text-sm font-mono text-gray-600 dark:text-gray-400">
                  {prop.default}
                </code>
              ) : (
                <span class="text-sm text-gray-400 dark:text-gray-600">-</span>
              )}
            </td>
            <td class="px-6 py-4 text-sm text-gray-700 dark:text-gray-300">
              {prop.description}
            </td>
          </tr>
        ))
      }
    </tbody>
  </table>
</div>

<style>
  /* Ensure table is scrollable on mobile */
  @media (max-width: 640px) {
    table {
      font-size: 0.875rem;
    }

    td,
    th {
      padding: 0.5rem 1rem;
    }
  }
</style>
